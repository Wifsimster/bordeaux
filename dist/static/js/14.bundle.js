(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{45:function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"min-w:full sm:min-w:sm"},[e("div",{staticClass:"text:3/2"},[t._v("\n    Transmission\n    "),t.testOk?e("span",{staticClass:"inline-block rounded:full bg:green ml:1/4 p:1/3 align:middle"}):e("span",{staticClass:"inline-block rounded:full bg:red ml:1/4 p:1/3 align:middle"})]),t._v(" "),e("div",{staticClass:"text:grey-dark"},[t._v("\n    Needed to add magnetlink from The Pirate Bay.\n  ")]),t._v(" "),t.settings?e("form",[e("div",{staticClass:"relative my:3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.host,expression:"settings.host"}],attrs:{id:"transmission_host",placeholder:"localhost"},domProps:{value:t.settings.host},on:{input:function(s){s.target.composing||t.$set(t.settings,"host",s.target.value)}}}),t._v(" "),e("label",{attrs:{for:"transmission_host"}},[t._v("Host")])]),t._v(" "),e("div",{staticClass:"relative my:3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.port,expression:"settings.port"}],attrs:{id:"transmission_port",type:"number",placeholder:"9091"},domProps:{value:t.settings.port},on:{input:function(s){s.target.composing||t.$set(t.settings,"port",s.target.value)}}}),t._v(" "),e("label",{attrs:{for:"transmission_port"}},[t._v("Port")])]),t._v(" "),e("div",{staticClass:"relative my:3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.username,expression:"settings.username"}],attrs:{id:"transmission_username",placeholder:"Eliot"},domProps:{value:t.settings.username},on:{input:function(s){s.target.composing||t.$set(t.settings,"username",s.target.value)}}}),t._v(" "),e("label",{attrs:{for:"transmission_username"}},[t._v("Username")])]),t._v(" "),e("div",{staticClass:"relative my:3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.encryptedPassword,expression:"encryptedPassword"}],attrs:{id:"transmission_password",type:"password",placeholder:"M3gA_Pa22w0rD!"},domProps:{value:t.encryptedPassword},on:{input:function(s){s.target.composing||(t.encryptedPassword=s.target.value)}}}),t._v(" "),e("label",{attrs:{for:"transmission_password"}},[t._v("Password")])])]):t._e()])};n._withStripped=!0;var i=e(2),a=e(27),o=e.n(a),r={computed:{message:function(){return this.$store.getters["webSocket/message"]},encryptedPassword:{get:function(){if(this.settings.password)try{return o.a.AES.decrypt(this.settings.password,"67d119bc-e8ae-45ff-8cf3-0fc876576a6a").toString(o.a.enc.Utf8)}catch(t){console.warn("[Transmission] Password cannot be decrypt : ".concat(t))}return null},set:function(t){t?this.$set(this.settings,"password",o.a.AES.encrypt(t,"67d119bc-e8ae-45ff-8cf3-0fc876576a6a").toString()):this.settings.password=""}}},data:function(){return{error:null,settings:null,testOk:null}},created:function(){this.getAll(),this.test()},watch:{"settings.host":function(){this.update(),this.test()},"settings.port":function(){this.update(),this.test()},"settings.username":function(){this.update(),this.test()},"settings.password":function(){this.update(),this.test()},message:function(t){if("transmission"===t.object)switch(this.error=null,t.method){case"getAll":case"update":t.error?this.error=t.error:this.settings=Object.assign({},t.results);break;case"sessionStats":t.error?(this.error=t.error,this.$emit("is-valid",!1)):(this.testOk=!0,this.$emit("is-valid",!0));break;default:console.log("Unknow method : ".concat(t.method))}}},methods:{getAll:function(){this.$store.commit("webSocket/send",{object:"transmission",method:"getAll"})},update:function(){Object(i.b)(this.settings)||this.$store.commit("webSocket/send",{object:"transmission",method:"update",params:this.settings})},test:function(){this.settings&&(this.testOk=null,this.$store.commit("webSocket/send",{object:"transmission",method:"sessionStats",params:{uuid:"67d119bc-e8ae-45ff-8cf3-0fc876576a6a"}}))}}},l=e(0),c=Object(l.a)(r,n,[],!1,null,null,null);c.options.__file="src/components/settings/transmission.vue";s.default=c.exports}}]);
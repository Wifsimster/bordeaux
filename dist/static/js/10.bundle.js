(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{45:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"min-w:full sm:min-w:sm"},[s("div",{staticClass:"text:white text:3/2"},[e._v("\n    Plex\n    "),e.testOk?s("span",{staticClass:"inline-block rounded:full bg:green ml:1/4 p:1/3 align:middle"}):s("span",{staticClass:"inline-block rounded:full bg:red ml:1/4 p:1/3 align:middle"})]),e._v(" "),s("div",{staticClass:"text:grey-dark"},[e._v("Used to get your collected and watched episodes.")]),e._v(" "),e.settings?s("form",[s("div",{staticClass:"relative mx:2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.username,expression:"settings.username"}],attrs:{id:"plex_username",placeholder:"Eliot"},domProps:{value:e.settings.username},on:{blur:function(t){return e.test()},input:function(t){t.target.composing||e.$set(e.settings,"username",t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"plex_username"}},[e._v("Username")])]),e._v(" "),s("div",{staticClass:"relative mx:2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.encryptedPassword,expression:"encryptedPassword"}],attrs:{id:"plex_password",type:"password",placeholder:"M3gA_Pa22w0rD!"},domProps:{value:e.encryptedPassword},on:{blur:function(t){return e.test()},input:function(t){t.target.composing||(e.encryptedPassword=t.target.value)}}}),e._v(" "),s("label",{attrs:{for:"plex_password"}},[e._v("Password")])]),e._v(" "),s("div",{staticClass:"relative mx:2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.synchronizeAfterTransfert,expression:"settings.synchronizeAfterTransfert"}],attrs:{id:"synchronizeAfterTransfert",type:"checkbox"},domProps:{checked:Array.isArray(e.settings.synchronizeAfterTransfert)?e._i(e.settings.synchronizeAfterTransfert,null)>-1:e.settings.synchronizeAfterTransfert},on:{change:function(t){var s=e.settings.synchronizeAfterTransfert,r=t.target,n=!!r.checked;if(Array.isArray(s)){var i=e._i(s,null);r.checked?i<0&&e.$set(e.settings,"synchronizeAfterTransfert",s.concat([null])):i>-1&&e.$set(e.settings,"synchronizeAfterTransfert",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.settings,"synchronizeAfterTransfert",n)}}}),e._v(" "),s("label",{attrs:{for:"synchronizeAfterTransfert"}},[e._v("Synchronize after transfert")])])]):e._e()])};r._withStripped=!0;var n=s(26),i=s.n(n),a={name:"Plex",computed:{message:function(){return this.$store.getters["webSocket/message"]},encryptedPassword:{get:function(){if(this.settings.password)try{return i.a.AES.decrypt(this.settings.password,"67d119bc-e8ae-45ff-8cf3-0fc876576a6a").toString(i.a.enc.Utf8)}catch(e){console.warn("[Plex] Password cannot be decrypt : ".concat(e))}},set:function(e){e?this.$set(this.settings,"password",i.a.AES.encrypt(e,"67d119bc-e8ae-45ff-8cf3-0fc876576a6a").toString()):this.settings.password=""}}},data:function(){return{error:null,settings:null,testOk:null}},created:function(){this.getAll(),this.test()},watch:{"settings.username":function(){this.update()},"settings.password":function(){this.update()},"settings.synchronizeAfterTransfert":function(){this.update()},message:function(e){if("plex"===e.object)switch(this.error=null,e.method){case"getAll":e.error?this.error=e.error:this.settings=Object.assign({},e.results);break;case"update":e.error?this.error=e.error:(this.settings=Object.assign({},e.results),this.test());break;case"signin":e.error?(this.error=e.error,this.$emit("is-valid",!1)):(this.testOk=!0,this.$emit("is-valid",!0));break;default:console.log("Unknow method : ".concat(e.method))}}},methods:{getAll:function(){this.$store.commit("webSocket/send",{object:"plex",method:"getAll"})},update:function(){this.settings&&this.$store.commit("webSocket/send",{object:"plex",method:"update",params:this.settings})},test:function(){this.settings&&this.settings.password&&this.settings.password.length>3&&(this.testOk=null,this.$store.commit("webSocket/send",{object:"plex",method:"signin",params:{uuid:"67d119bc-e8ae-45ff-8cf3-0fc876576a6a"}}))}}},o=s(1),c=Object(o.a)(a,r,[],!1,null,null,null);c.options.__file="src/frontend/components/settings/plex.vue";t.default=c.exports}}]);